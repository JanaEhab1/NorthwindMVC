@model NorthwindMVC.Models.Category

@{
    ViewBag.Title = "Edit Category";
}

<h2>Edit Category</h2>

<form id="editForm">
    @Html.HiddenFor(m => m.CategoryID)

    <div class="form-group">
        @Html.LabelFor(m => m.CategoryName)
        @Html.TextBoxFor(m => m.CategoryName, new { @class = "form-control" })
    </div>

    <div class="form-group">
        @Html.LabelFor(m => m.Description)
        @Html.TextBoxFor(m => m.Description, new { @class = "form-control" })
    </div>

    <button type="submit" class="btn btn-primary">Save</button>
    @Html.ActionLink("Back", "Index", null, new { @class = "btn btn-secondary" })
</form>

<div id="editResult"></div>

@section scripts {
    <script>
        $("#editForm").submit(function (e) {
            e.preventDefault();
            $.post('@Url.Action("Edit")', $(this).serialize(), function (res) {
                if (res.success) {
                    $("#editResult").html(" Changes saved successfully!");
                } else {
                    $("#editResult").html(" Edit failed.");
                }
            }).fail(function () {
                $("#editResult").html(" Server error.");
            });
        });
    </script>
}
